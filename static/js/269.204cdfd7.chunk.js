"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[269],{269:function(e,t,r){r.r(t),r.d(t,{BtnWrap:function(){return y},default:function(){return w}});var n,a=r(168),c=r(4165),i=r(5861),s=r(9439),o=r(9788),u=r(5867),p=r(2791),f=r(7689),h=r(1087),d=r(419),l=r(8683),v=r(8175),x=r(184),g=function(e){var t=window.innerWidth||document.documentElement.clientWidth,r=850;return(0,x.jsxs)(v.ZP,(0,l.Z)((0,l.Z)({width:t,height:520,title:"Loading movie details..."},e),{},{children:[(0,x.jsx)("rect",{x:"0",y:"10",rx:"10",ry:"10",width:r,height:480}),(0,x.jsx)("rect",{x:900,y:"10",rx:"5",ry:"5",width:"400",height:"30"}),(0,x.jsx)("rect",{x:900,y:"60",rx:"5",ry:"5",width:"300",height:"20"}),(0,x.jsx)("rect",{x:900,y:"100",rx:"5",ry:"5",width:"300",height:"20"}),(0,x.jsx)("rect",{x:900,y:"140",rx:"5",ry:"5",width:"300",height:"20"}),(0,x.jsx)("rect",{x:900,y:"210",rx:"5",ry:"5",width:"100",height:"20"}),(0,x.jsx)("rect",{x:900,y:"250",rx:"5",ry:"5",width:"400",height:"200"})]}))},y=u.ZP.div(n||(n=(0,a.Z)(["\n  display: flex;\n  gap: 30px;\n  margin-bottom: 30px;\n"]))),w=function(){var e,t,r=(0,f.UO)().movieId,n=(0,f.TH)(),a=(0,p.useRef)(null!==(e=null===(t=n.state)||void 0===t?void 0:t.from)&&void 0!==e?e:"/"),u=(0,p.useState)(),l=(0,s.Z)(u,2),v=l[0],w=l[1],j=(0,p.useState)(!1),m=(0,s.Z)(j,2),b=m[0],Z=m[1],k=(0,p.useState)(!1),O=(0,s.Z)(k,2),_=O[0],P=O[1];return(0,p.useEffect)((function(){if(r){var e=new AbortController,t=function(){var t=(0,i.Z)((0,c.Z)().mark((function t(){var n;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,P(!0),t.next=4,d.z.getMovieByMovieId(r,e);case 4:n=t.sent,w(n),Z(!1),P(!1),t.next=16;break;case 10:if(t.prev=10,t.t0=t.catch(0),"canceled"!==t.t0.message){t.next=14;break}return t.abrupt("return");case 14:Z(t.t0.message),P(!1);case 16:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}();return t(),function(){return e.abort()}}}),[r]),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(h.rU,{to:a.current,children:(0,x.jsx)(o.zx,{$marginBottom:"20px",children:"Back"})}),(0,x.jsxs)(x.Fragment,{children:[v&&!_&&(0,x.jsx)(o.UA,{movie:v}),_&&(0,x.jsx)(g,{}),(0,x.jsxs)(y,{children:[(0,x.jsx)(h.rU,{to:"cast",children:(0,x.jsx)(o.zx,{children:"Cast"})}),(0,x.jsx)(h.rU,{to:"reviews",children:(0,x.jsx)(o.zx,{children:"Reviews"})})]}),(0,x.jsx)(p.Suspense,{fallback:(0,x.jsx)(o.wY,{}),children:(0,x.jsx)(f.j3,{})})]}),b&&(0,x.jsx)(o.P_,{children:"\u274c Something went wrong - ".concat(b)})]})}},419:function(e,t,r){r.d(t,{z:function(){return h}});var n=r(4165),a=r(5861),c=r(1243);c.Z.defaults.baseURL="https://api.themoviedb.org/3";var i="267e0ef2e56c2254d403c0d4ffe19052",s=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t,r){var a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Z.get("trending/movie/".concat(t,"?api_key=").concat(i),{signal:r.signal});case 2:return a=e.sent,e.abrupt("return",a.data.results);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),o=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t,r){var a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Z.get("/movie/".concat(t,"?api_key=").concat(i),{signal:r.signal});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),u=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t,r){var a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Z.get("/movie/".concat(t,"/credits?api_key=").concat(i),{signal:r.signal});case 2:return a=e.sent,e.abrupt("return",a.data.cast);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),p=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t,r){var a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Z.get("/movie/".concat(t,"/reviews?api_key=").concat(i),{signal:r.signal});case 2:return a=e.sent,e.abrupt("return",a.data.results);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),f=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t,r,a){var s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Z.get("/search/movie?api_key=".concat(i,"&query=").concat(t,"&page=").concat(r),{signal:a.signal});case 2:return s=e.sent,e.abrupt("return",s.data);case 4:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),h={getTrendMovieByParam:s,getMovieByMovieId:o,getMovieReviewsByMovieId:p,getMovieCastByMovieId:u,searchMovieByQuery:f}},8683:function(e,t,r){r.d(t,{Z:function(){return i}});var n=r(9142);function a(e,t,r){return(t=(0,n.Z)(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}}}]);
//# sourceMappingURL=269.204cdfd7.chunk.js.map