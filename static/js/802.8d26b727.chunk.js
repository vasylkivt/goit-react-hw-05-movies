"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[802],{2802:function(e,t,n){n.r(t),n.d(t,{default:function(){return D}});var r,a,i,c,o,s,u,d,h,l,p=n(4165),x=n(5861),v=n(9439),f=n(2549),g=n(3524),Z=n(2791),w=n(7689),m=n(419),y=n(3768),b=n(216),j=n(168),k=n(5867),_=k.ZP.ul(r||(r=(0,j.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 35px;\n  padding: 30px;\n  border-radius: 10px;\n  background-color: ",";\n"])),(function(e){return e.theme.colors.backgroundColorDark})),P=k.ZP.li(a||(a=(0,j.Z)([""]))),M=k.ZP.div(i||(i=(0,j.Z)(["\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  border-radius: 10px;\n  padding: 5px;\n  margin-bottom: 10px;\n  background-color: ",";\n"])),(function(e){return e.theme.colors.backgroundColorLight})),B=k.ZP.img(c||(c=(0,j.Z)(["\n  width: 60px;\n  height: 60px;\n  border-radius: 50%;\n  object-fit: cover;\n"]))),C=k.ZP.div(o||(o=(0,j.Z)([""]))),I=k.ZP.p(s||(s=(0,j.Z)([""]))),S=k.ZP.p(u||(u=(0,j.Z)([""]))),R=k.ZP.div(d||(d=(0,j.Z)([""]))),L=k.ZP.p(h||(h=(0,j.Z)(["\n  margin-bottom: 5px;\n  color: ",";\n"])),(function(e){return e.theme.colors.textColorLight})),z=k.ZP.p(l||(l=(0,j.Z)(["\n  color: ",";\n"])),(function(e){return e.theme.colors.yellow})),A=n(8683),T=n(8175),U=n(184),q=function(e){return(0,U.jsxs)(T.ZP,(0,A.Z)((0,A.Z)({viewBox:"0 0 476 124"},e),{},{children:[(0,U.jsx)("rect",{x:"38",y:"13",width:"48",height:"6",rx:"3"}),(0,U.jsx)("rect",{x:"38",y:"22",width:"52",height:"6",rx:"3"}),(0,U.jsx)("rect",{x:"10",y:"36",width:"410",height:"6",rx:"3"}),(0,U.jsx)("rect",{x:"10",y:"46",width:"410",height:"6",rx:"3"}),(0,U.jsx)("rect",{x:"10",y:"56",width:"410",height:"6",rx:"3"}),(0,U.jsx)("rect",{x:"10",y:"66",width:"340",height:"6",rx:"3"}),(0,U.jsx)("rect",{x:"10",y:"76",width:"340",height:"6",rx:"3"}),(0,U.jsx)("rect",{x:"10",y:"86",width:"178",height:"6",rx:"3"}),(0,U.jsx)("circle",{cx:"20",cy:"20",r:"12"})]}))},D=function(){var e=(0,w.UO)().movieId,t=(0,Z.useState)(),n=(0,v.Z)(t,2),r=n[0],a=n[1],i=(0,Z.useState)(!1),c=(0,v.Z)(i,2),o=c[0],s=c[1],u=(0,Z.useState)(!1),d=(0,v.Z)(u,2),h=d[0],l=d[1];return(0,Z.useEffect)((function(){if(e){var t=new AbortController,n=function(){var n=(0,x.Z)((0,p.Z)().mark((function n(){var r;return(0,p.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return l(!0),n.prev=1,n.next=4,m.z.getMovieReviewsByMovieId(e,t);case 4:r=n.sent,a(r),s(!1),l(!1),n.next=16;break;case 10:if(n.prev=10,n.t0=n.catch(1),"canceled"!==n.t0.message){n.next=14;break}return n.abrupt("return");case 14:s(n.t0.message),l(!1);case 16:case"end":return n.stop()}}),n,null,[[1,10]])})));return function(){return n.apply(this,arguments)}}();return n(),function(){return t.abort()}}}),[e]),(0,U.jsxs)(U.Fragment,{children:[r&&0!==(null===r||void 0===r?void 0:r.length)&&!h&&(0,U.jsx)(_,{children:r.map((function(e){var t=e.content,n=e.id,r=e.updated_at,a=e.author_details,i=a.rating,c=a.name,o=a.avatar_path,s=null!==o&&void 0!==o&&o.includes("https")?y:o?"".concat(g.b,"/original").concat(o):y;return(0,U.jsxs)(P,{children:[(0,U.jsxs)(M,{children:[(0,U.jsx)(B,{src:s,alt:""}),(0,U.jsxs)(C,{children:[(0,U.jsxs)(I,{children:["Author: ",c]}),(0,U.jsxs)(S,{children:["Rating: ",i]})]})]}),(0,U.jsxs)(R,{children:[(0,U.jsxs)(L,{children:[t," "]}),(0,U.jsx)(z,{children:(0,b.p)(r)})]})]},n)}))}),h&&(0,U.jsx)(q,{}),(0,U.jsxs)(f.P_,{children:[!o&&0===(null===r||void 0===r?void 0:r.length)&&"Sorry. There are no reviews... \ud83d\ude2d. You can view the cast \ud83d\ude0e. ",o&&"\u274c Something went wrong - ".concat(o)]})]})}},419:function(e,t,n){n.d(t,{z:function(){return l}});var r=n(4165),a=n(5861),i=n(1243);i.Z.defaults.baseURL="https://api.themoviedb.org/3";var c="267e0ef2e56c2254d403c0d4ffe19052",o=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.Z.get("trending/movie/".concat(t,"?api_key=").concat(c),{signal:n.signal});case 2:return a=e.sent,e.abrupt("return",a.data.results);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),s=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.Z.get("/movie/".concat(t,"?api_key=").concat(c),{signal:n.signal});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),u=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.Z.get("/movie/".concat(t,"/credits?api_key=").concat(c),{signal:n.signal});case 2:return a=e.sent,e.abrupt("return",a.data.cast);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),d=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.Z.get("/movie/".concat(t,"/reviews?api_key=").concat(c),{signal:n.signal});case 2:return a=e.sent,e.abrupt("return",a.data.results);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),h=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n,a){var o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.Z.get("/search/movie?api_key=".concat(c,"&query=").concat(t,"&page=").concat(n),{signal:a.signal});case 2:return o=e.sent,e.abrupt("return",o.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),l={getTrendMovieByParam:o,getMovieByMovieId:s,getMovieReviewsByMovieId:d,getMovieCastByMovieId:u,searchMovieByQuery:h}}}]);
//# sourceMappingURL=802.8d26b727.chunk.js.map