"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[802],{2802:function(e,t,n){n.r(t),n.d(t,{default:function(){return S}});var r,a,i,c,o,s,u=n(4165),d=n(5861),h=n(9439),l=n(2549),p=n(3524),x=n(2791),v=n(7689),f=n(419),g=n(3768),Z=n(216),w=n(168),m=n(5867),y=m.ZP.ul(r||(r=(0,w.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 35px;\n  padding: 30px;\n  border-radius: 10px;\n  background-color: ",";\n"])),(function(e){return e.theme.colors.backgroundColorDark})),b=m.ZP.li(a||(a=(0,w.Z)([""]))),j=m.ZP.div(i||(i=(0,w.Z)(["\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  border-radius: 10px;\n  padding: 5px;\n  margin-bottom: 10px;\n  background-color: ",";\n"])),(function(e){return e.theme.colors.backgroundColorLight})),k=m.ZP.img(c||(c=(0,w.Z)(["\n  width: 60px;\n  height: 60px;\n  border-radius: 50%;\n  object-fit: cover;\n"]))),_=m.ZP.p(o||(o=(0,w.Z)(["\n  margin-bottom: 5px;\n  color: ",";\n"])),(function(e){return e.theme.colors.textColorLight})),M=m.ZP.p(s||(s=(0,w.Z)(["\n  color: ",";\n"])),(function(e){return e.theme.colors.yellow})),P=n(8683),B=n(8175),C=n(184),I=function(e){return(0,C.jsxs)(B.ZP,(0,P.Z)((0,P.Z)({viewBox:"0 0 476 124"},e),{},{children:[(0,C.jsx)("rect",{x:"38",y:"13",width:"48",height:"6",rx:"3"}),(0,C.jsx)("rect",{x:"38",y:"22",width:"52",height:"6",rx:"3"}),(0,C.jsx)("rect",{x:"10",y:"36",width:"410",height:"6",rx:"3"}),(0,C.jsx)("rect",{x:"10",y:"46",width:"410",height:"6",rx:"3"}),(0,C.jsx)("rect",{x:"10",y:"56",width:"410",height:"6",rx:"3"}),(0,C.jsx)("rect",{x:"10",y:"66",width:"340",height:"6",rx:"3"}),(0,C.jsx)("rect",{x:"10",y:"76",width:"340",height:"6",rx:"3"}),(0,C.jsx)("rect",{x:"10",y:"86",width:"178",height:"6",rx:"3"}),(0,C.jsx)("circle",{cx:"20",cy:"20",r:"12"})]}))},S=function(){var e=(0,v.UO)().movieId,t=(0,x.useState)(),n=(0,h.Z)(t,2),r=n[0],a=n[1],i=(0,x.useState)(!1),c=(0,h.Z)(i,2),o=c[0],s=c[1],w=(0,x.useState)(!1),m=(0,h.Z)(w,2),P=m[0],B=m[1];return(0,x.useEffect)((function(){if(e){var t=new AbortController,n=function(){var n=(0,d.Z)((0,u.Z)().mark((function n(){var r;return(0,u.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return B(!0),n.prev=1,n.next=4,f.z.getMovieReviewsByMovieId(e,t);case 4:r=n.sent,a(r),s(!1),B(!1),n.next=16;break;case 10:if(n.prev=10,n.t0=n.catch(1),"canceled"!==n.t0.message){n.next=14;break}return n.abrupt("return");case 14:s(n.t0.message),B(!1);case 16:case"end":return n.stop()}}),n,null,[[1,10]])})));return function(){return n.apply(this,arguments)}}();return n(),function(){return t.abort()}}}),[e]),(0,C.jsxs)(C.Fragment,{children:[r&&0!==(null===r||void 0===r?void 0:r.length)&&!P&&(0,C.jsx)(y,{children:r.map((function(e){var t=e.content,n=e.id,r=e.updated_at,a=e.author_details,i=a.rating,c=a.name,o=a.avatar_path,s=null!==o&&void 0!==o&&o.includes("https")?g:o?"".concat(p.b,"/original").concat(o):g;return(0,C.jsxs)(b,{children:[(0,C.jsxs)(j,{children:[(0,C.jsx)(k,{src:s,alt:""}),(0,C.jsxs)("div",{children:[(0,C.jsxs)("p",{children:["Author: ",c]}),(0,C.jsxs)("p",{children:["Rating: ",i]})]})]}),(0,C.jsxs)("div",{children:[(0,C.jsxs)(_,{children:[t," "]}),(0,C.jsx)(M,{children:(0,Z.p)(r)})]})]},n)}))}),P&&(0,C.jsx)(I,{}),(0,C.jsxs)(l.P_,{children:[!o&&0===(null===r||void 0===r?void 0:r.length)&&"Sorry. There are no reviews... \ud83d\ude2d. You can view the cast \ud83d\ude0e. ",o&&"\u274c Something went wrong - ".concat(o)]})]})}},419:function(e,t,n){n.d(t,{z:function(){return l}});var r=n(4165),a=n(5861),i=n(1243);i.Z.defaults.baseURL="https://api.themoviedb.org/3";var c="267e0ef2e56c2254d403c0d4ffe19052",o=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.Z.get("trending/movie/".concat(t,"?api_key=").concat(c),{signal:n.signal});case 2:return a=e.sent,e.abrupt("return",a.data.results);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),s=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.Z.get("/movie/".concat(t,"?api_key=").concat(c),{signal:n.signal});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),u=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.Z.get("/movie/".concat(t,"/credits?api_key=").concat(c),{signal:n.signal});case 2:return a=e.sent,e.abrupt("return",a.data.cast);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),d=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.Z.get("/movie/".concat(t,"/reviews?api_key=").concat(c),{signal:n.signal});case 2:return a=e.sent,e.abrupt("return",a.data.results);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),h=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n,a){var o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.Z.get("/search/movie?api_key=".concat(c,"&query=").concat(t,"&page=").concat(n),{signal:a.signal});case 2:return o=e.sent,e.abrupt("return",o.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),l={getTrendMovieByParam:o,getMovieByMovieId:s,getMovieReviewsByMovieId:d,getMovieCastByMovieId:u,searchMovieByQuery:h}}}]);
//# sourceMappingURL=802.bdb759f6.chunk.js.map